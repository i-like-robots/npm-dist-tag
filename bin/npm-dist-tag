#!/usr/bin/env node

const getDistTag = require('../')

const args = require('minimist')(process.argv.slice(2))

const help = `
Usage: npm-dist-tag [options]

Options:
  -p, --package <name>    The name of the npm package, defaults to pkg.name
  -v, --version <semver>  The new version for the package, defaults to pkg.version
  -h, --help              output usage information
`

if (args.h || args.help) {
  console.log(help)
  process.exit(0)
}

getDistTag(args)
  .then((result) => {
    console.log(result)
    process.exit(0)
  })
  .catch((error) => {
    console.error(error.toString())
    process.exit(1)
  })
